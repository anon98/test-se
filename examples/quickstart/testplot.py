import matplotlib.pyplot as plt
import numpy as np

# Calculated voltages
calculated_voltages = [
    110-4.572683840883232e-25j,
    19.043637737604445-2.3385536307496353j,
    19.285911853862913-1.9724254162580466j,
    17.59394756449157-3.063716194267335j,
    17.517599535687935-3.109341057707296j,
    17.54867817865573-3.0907814277601324j,
    17.409042268262017-3.1491784294771232j,
    17.439156684214407-3.1323811352903563j,
    17.46204998032217-3.1229953475040966j,
    17.454835205090003-3.124671802780427j,
    17.480820441972547-3.1312600997501328j,
    19.12603294940291-1.9835653531667843j,
    19.18428343346967-1.9792535274202523j,
    17.404274925716056-3.152007213189228j,
    18.478979410507993-2.62100645245128j
]

# Reference voltages
reference_voltages = [
    110-7.970485900477431e-27j,
    19.043637737604445-2.3385536307496353j,
    19.285911853862913-1.9724254162580466j,
    17.59394756449157-3.063716194267335j,
    17.517599535687935-3.109341057707296j,
    17.54867817865573-3.0907814277601324j,
    17.409042268262017-3.1491784294771232j,
    17.439156684214407-3.1323811352903563j,
    17.46204998032217-3.1229953475040966j,
    17.454835205090003-3.124671802780427j,
    17.480820441972547-3.1312600997501328j,
    19.12603294940291-1.9835653531667843j,
    19.18428343346967-1.9792535274202523j,
    17.404274925716056-3.152007213189228j,
    18.478979410507993-2.62100645245128j
]

# Convert complex numbers to magnitudes
calculated_voltages_mag = np.abs(calculated_voltages)
reference_voltages_mag = np.abs(reference_voltages)

# Plot
plt.figure(figsize=(10, 6))
plt.plot(range(len(calculated_voltages)), calculated_voltages_mag, label='Calculated Voltages')
plt.plot(range(len(reference_voltages)), reference_voltages_mag, label='Reference Voltages', linestyle='--')
plt.xlabel('Node')
plt.ylabel('Voltage Magnitude')
plt.title('Comparison of Calculated and Reference Voltages')
plt.legend()
plt.grid(True)

# Save the figure
plt.savefig('voltages_comparison.png')
